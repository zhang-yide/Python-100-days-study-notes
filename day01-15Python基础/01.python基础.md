本文是基于 [廖雪峰-Python教程](https://www.liaoxuefeng.com/wiki/1016959663602400) 整理的笔记。

## python基础

### 数据类型

- 整型 int ：1, -3, 0xff00

- 浮点型 float ：1.23, 12.3e8

- 字符串 str ：有序、不可变

  - 转义字符`\`：`\n`表示换行，`\t`表示制表符，`\\`表示的字符就是`\`。

  - `r''`表示`''`内部的字符串默认不转义。

  - `'''...'''`表示多行内容。

  - 格式化：

    ```python
    >>> 'Hello, %s' % 'world'
    'Hello, world'
    >>> 'Hi, %s, you have $%d.' % ('Michael', 1000000)
    'Hi, Michael, you have $1000000.'
    ```

    ```python
    >>> 'Hello, {0}, 成绩提升了 {1:.1f}%'.format('小明', 17.125)
    'Hello, 小明, 成绩提升了 17.1%'
    ```

  - 分割：

    ```python
    >>> s.split(',')  # 以','为分隔符，分割成列表
    ```

  - 连接：

    ```python
    >>> s.join(list)  # 以s为分隔符，将list连接为字符串
    ```

  - 替换： 

    ```python
    >>> s.replace('part1', 'part2')  # 将字符串中的part1,替换成part2
    ```

  - 大小写转换：

    

    ```python
    >>> s.upper()  # 转换成大写
    >>> s.lower()  # 转换成小写
    ```

  - 去除多余空格：

    ```python
    >>> s.strip()  # 去除两端多余空格
    >>> s.lstrip()  # 去除开始空格
    >>> s.rstrip()  # 去除末尾空格
    ```

  - 对字符串进行分析：

    ```
    字符串.isalnum() 所有字符都是数字或者字母，为真返回 Ture，否则返回 ``False``。
    字符串.isalpha()  所有字符都是字母，为真返回 Ture，否则返回 ``False``。
    字符串.isdigit()   所有字符都是数字，为真返回 Ture，否则返回 ``False``。
    字符串.islower()  所有字符都是小写，为真返回 Ture，否则返回 ``False``。
    字符串.isupper()  所有字符都是大写，为真返回 Ture，否则返回 ``False``。
    字符串.istitle()   所有单词都是首字母大写，为真返回 Ture，否则返回 ``False``。
    字符串.isspace()  所有字符都是空白字符，为真返回 Ture，否则返回 ``False``。
    ```

- 列表 list ：有序、可变

  - 切片：

    ```python
    >>> names[1:20:2]  # 取下标1至下标20之间的数字，包括1，不包括20，每隔2个元素，就取一个
    ```

  - 添加：

    ```python
    >>> names.append("NEW")  # 追加
    >>> names.insert(2,"NEW")  # 在下标2处插入
    ```

  - 删除：

    ```python
    >>> del names[2]  # 删除
    >>> names.remove(&quot;Eric&quot;)  # 删除指定元素
    >>> names.pop()  # 删除列表最后一个值
    >>> names.pop(2)  # 删除下标为2的值
    ```

  - 拓展：

    ```python
    >>> names.extend(list_b)  # 等价于names += list_b
    ```

  - 统计：

    ```python
    >>> names.count("Amy")  # 统计数量
    ```

  - 变序：

    ```python
    >>> names.sort()  # 排序（相同类型数据）
    >>> names.reverse()  # 反转
    ```

  - 查询：

    ```python
    >>> names.index("Amy")  # 返回第一个“Amy”所在位置的下标，找不到返回None
    ```

- 元组 tuple ：有序、不可变

  - 定义：

    ```python
    >>> a = (10,)
    >>> b = ()
    ```

  - 统计、查询，功能类似列表

- 集合 set ：无序、可变、不含重复元素

  ```python
  # 添加add、update
  >>> s.add(5)
  >>> s.update(seq)  # 将seq中的元素添加到s中
  
  # 删除remove、pop、discard(元素不存在时不报错)
  >>> a.difference_update(b)  # 从a中去除所有属于b的元素
  
  a = {1, 2, 3, 4}
  b = {2, 3, 4, 5}
  # 集合取交集：{2, 3, 4}
  a.union(b)
  a & b
  
  # 集合取并集：{1, 2, 3, 4, 5} 
  a.intersection(b)
  a | b
  
  # 集合取差集：{1} 
  a.difference(b)
  a - b
  
  # 集合对称差：{1, 5}
  a.symmetric_difference(b)
  a ^ b
  ```

- 字典 dic ：无序、key值不可变，value可变

  ```python
  # get获取键值
  >>> d.get(key)  # 检索键key的值，不存在则返回None
  >>> d.get(key, ob)  # 检索键key的值，不存在则返回数据ob
  
  # 删除元素
  >>> d.pop(key)  # 弹出键key对应的键值对
  >>> d.pop(key, ob)  # 弹出键key对应的键值对，不存在则返回数据ob
  >>> del a[key]  # 删除键key对应的键值对
  
  # 更新字典
  >>> dic1.update(dic2)  # 将dic1中与dic2对应键的值更新，添加没有的键值对
  
  # 查找
  >>> 'key' in dic  # 判断key是否在dic中，以返回True或False
  
  # 取值
  >>> d.keys()  # 返回一个由所有键组成的列表
  >>> d.values()  # 返回一个由所有值组成的列表
  >>> d.items()  # 返回一个由所有键值对元组组成的列表
  ```

- 布尔值：`True, False`

- 空值：`None`

### 运算符

- 算数运算符：
  - `+  -  *  /`
  - `%`: 取余
  - `**`: 幂运算
  - `//`: 取整数（向下取整）
- 比较运算符：`==  !=  >  <  >=  <=`
- 赋值运算符：`=  +=  -=  *=  /=  %=  **=  //=`
- 位运算符：`&  |  ^  ~  <<  >>`(与或异非移)
- 逻辑运算符：`and  or  not`
- 成员运算符：`in  not in`
- 身份运算符：`is  is not`

### 字符编码

- ASCII编码：1字节
- Unicode：2字节，内存中采用
- UTF-8：英文：1字节，汉字：3字节，生僻字：4-6字节。保存和传输时采用

由于Python的字符串类型是`str`，在内存中以Unicode表示，一个字符对应若干个字节。如果要在网络上传输，或者保存到磁盘上，就需要把`str`变为以字节为单位的`bytes`。

Python对`bytes`类型的数据用带`b`前缀的单引号或双引号表示：

```
x = b'ABC'
```

以Unicode表示的`str`通过`encode()`方法可以编码为指定的`bytes`，例如：

```
>>> 'ABC'.encode('ascii')
b'ABC'
>>> '中文'.encode('utf-8')
b'\xe4\xb8\xad\xe6\x96\x87'
```

反过来，如果我们从网络或磁盘上读取了字节流，那么读到的数据就是`bytes`。要把`bytes`变为`str`，就需要用`decode()`方法：

```
>>> b'ABC'.decode('ascii')
'ABC'
>>> b'\xe4\xb8\xad\xe6\x96\x87'.decode('utf-8')
'中文'
```

在操作字符串时，我们经常遇到`str`和`bytes`的互相转换。为了避免乱码问题，应当始终坚持使用UTF-8编码对`str`和`bytes`进行转换。

### 函数

- 定义可变参数和关键字参数：
  - `*args`是可变参数，`args`接收的是一个`tuple`；
  - `**kw`是关键字参数，`kw`接收的是一个`dict`。
- 传入可变参数和关键字参数：
  - 可变参数
    - 直接传入：`func(1, 2, 3)`
    - 先组装`list`或`tuple`，再通过`*args`传入：`func(*(1, 2, 3))`；
  - 关键字参数
    - 直接传入：`func(a=1, b=2)`
    - 先组装`dict`，再通过`**kw`传入：`func(**{'a': 1, 'b': 2})`。