### 概述

#### 作用

**数据持久化** - 将数据保存到能够长久保存数据的存储介质中，在掉电的情况下数据也不会丢失。

#### 关系数据库特点

- 理论基础：集合论和关系代数。
- 具体表象：用二维表（有行和列）组织数据。
- 编程语言：结构化查询语言（SQL）。

### 安装和配置

#### 下载 MySQL

要在 Linux 上安装 MySQL，可以使用发行版的包管理器。例如，Ubuntu用户可以简单地通过命令`apt-get install mysql-server`安装最新的 MySQL 版本。

要在 Windows 或 Mac 上安装 MySQL，首先从 MySQL 官方网站下载最新的 MySQL Community Server 版本：

https://dev.mysql.com/downloads/mysql/

选择对应的操作系统版本，下载即可。

#### 安装 MySQL

1. 解压 zip 包到安装目录：

例如我解压至`D:\programs\mysql-8.0.18-winx64`

2. 配置环境变量：

将解压后的文件夹 bin 的路径添加到系统环境变量中，即`D:\programs\mysql-8.0.18-winx64\bin`

3. 配置初始化的`my.ini`文件：

安装目录下新建`my.ini`文件，写入如下基本配置：

```
[mysqld]
# 设置3306端口
port=3306
# 设置mysql的安装目录
basedir=D:\\programs\\mysql-8.0.18-winx64   
# 切记此处一定要用双斜杠\\，单斜杠我这里会出错，不过看别人的教程，有的是单斜杠。自己尝试吧
# 设置mysql数据库的数据的存放目录
datadir=D:\\programs\\mysql-8.0.18-winx64\\Data   # 此处同上
# 允许最大连接数
max_connections=200
# 允许连接失败的次数。这是为了防止有人从该主机试图攻击数据库系统
max_connect_errors=10
# 服务端使用的字符集默认为UTF8
character-set-server=utf8
# 创建新表时将使用的默认存储引擎
default-storage-engine=INNODB
# 默认使用“mysql_native_password”插件认证
default_authentication_plugin=mysql_native_password
[mysql]
# 设置mysql客户端默认字符集
default-character-set=utf8
[client]
# 设置mysql客户端连接服务端时默认使用的端口
port=3306
default-character-set=utf8
```

4. 安装 MySQL

在安装时，需要以管理员身份运行 cmd ，否则在安装时会报错。

#### 初始化 MySQL

1. 初始化数据库

在 bin 目录下执行：

`mysqld --initialize --console`

执行完毕后，会在最后打印 root 用户的初始密码，如：

`2018-04-28T15:57:24.859249Z 5 [Note] [MY-010454] [Server] A temporary password is generated for root@localhost: rI5rvf5x5G`

其中`rI5rvf5x5G`就是初始密码。后面登录要用到。如果没记住，删掉初始化的 datadir 目录，再执行一遍初始化命令，又会重新生成的。

2. 安装服务

在 bin 目录下执行：

`mysqld --install [服务名]`

默认服务名为 mysql。

安装完成之后，就可以通过命令`net start mysql`启动 MySQL 的服务了。通过命令`net stop mysql`停止服务。通过命令`sc delete MySQL/mysqld -remove`卸载 MySQL 服务。

3. 更改密码

在 bin 目录下执行：

`mysql -u root -p`

> 说明：启动客户端时，-u 参数用来指定用户名，MySQL 默认的超级管理账号为 root；-p 表示要输入密码（用户口令）；如果连接的是其他主机而非本机，可以用 -h 来指定连接主机的主机名或 IP 地址。

输入之前的密码即可进入 MySQL 命令模式。

在 MySQL 中执行命令：

`ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '新密码'; `

#### 常用命令

   - 查看服务器版本。

     ```SQL
     select version();
     ```

   - 查看所有数据库。

     ```SQL
     show databases;
     ```

   - 切换到指定数据库。

     ```SQL
     use mysql;
     ```

   - 查看数据库下所有表。

     ```Shell
     show tables;
     ```

   - 获取帮助。

     ```SQL
     ? contents;
     ? functions;
     ? numeric functions;
     ? round;
     
     ? data types;
     ? longblob;
     ```

### SQL 详解

#### 基本操作

总的来说，SQL语言定义了这么几种操作数据库的能力：

- DDL（数据定义语言）：Data Definition Language

DDL允许用户定义数据，也就是创建表、删除表、修改表结构这些操作。通常，DDL由数据库管理员执行。

- DML（数据操作语言）：Data Manipulation Language

DML为用户提供添加、删除、更新数据的能力，这些是应用程序对数据库的日常操作。

- DQL（数据控制语言）：Data Query Language

DQL允许用户查询数据，这也是通常最频繁的数据库日常操作。
